jacocoTestReport {
    reports {
        xml.required = true
        html.required = true
    }
}

test.finalizedBy jacocoTestReport

sonarqube {
    properties {
        property 'sonar.projectName', 'Lhotse - media'
        property 'sonar.projectKey', 'everest-engineering_lhotse-media'
        property 'sonar.organization', 'everestengineering'
        property 'sonar.host.url', 'https://sonarcloud.io'
        property 'sonar.test.exclusions', '**/*Test.java'
    }
}

tasks['sonarqube'].dependsOn test
